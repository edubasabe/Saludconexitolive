<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Salud con Éxito</title>
  </head>
  <body>
    <h1 class="titulo">
      Suscríbete a la masterclass
      <span class="titulo--green">Método Kihesana</span>
    </h1>

    <p class="principio">
      Soy médico anestesióloga con más de 20 años de experiencia y en los
      últimos 5 años, me he enfocado en la medicina natural a través de
      metodologías basadas en la medicina tradicional china, además de la
      aromaterapia y la magnetoterapia para ofrecer la mejora holística de
      manera natural. Ayudando a más de 200 personas a sentirse mejor mejorando
      su bienestar.
    </p>

    <div class="formulario">
      <form id="myForm">
        <input
          type="hidden"
          name="access_key"
          value="ea34b092-5a07-4d93-bd47-309da4874064"
        />

        <input
          type="text"
          id="name"
          name="name"
          placeholder="Ingresa tu nombre"
          maxlength="200"
          required
        />

        <input
          type="email"
          id="email"
          name="email"
          placeholder="Tu mejor correo electrónico"
          maxlength="200"
          required
        />

        <div class="textarea-group">
          <select id="country" name="country" required>
            <option value="+54">+54 - Argentina</option>
            <option value="+55">+55 - Brasil</option>
            <option value="+56">+56 - Chile</option>
            <option value="+57">+57 - Colombia</option>
            <option value="+34">+34 - España</option>
            <option value="+1">+1 - Estados Unidos</option>
            <option value="+593">+593 - Ecuador</option>
            <option value="+503">+503 - El Salvador</option>
            <option value="+502">+502 - Guatemala</option>
            <option value="+504">+504 - Honduras</option>
            <option value="+505">+505 - Nicaragua</option>
            <option value="+507">+507 - Panamá</option>
            <option value="+595">+595 - Paraguay</option>
            <option value="+51">+51 - Perú</option>
            <option value="+52">+52 - México</option>
            <option value="+1 809">+1 809 - Rep. Dominicana</option>
            <option value="+1 829">+1 829 - Rep. Dominicana</option>
            <option value="+1 849">+1 849 - Rep. Dominicana</option>
            <option value="+598">+598 - Uruguay</option>
            <option value="+58">+58 - Venezuela</option>
          </select>

          <input
            type="text"
            id="phone"
            name="phone"
            placeholder="Teléfono"
            maxlength="200"
            oninput="validatePhoneNumber(this)"
            required
          />
        </div>

        <button type="submit">Enviar</button>
      </form>
    </div>

    <footer>
      <p>&copy; 2024 Salud con Éxito. Todos los derechos reservados.</p>
      <div class="social-icons">
        <a
          href="https://www.instagram.com/dra.angieg?igsh=MW54M2RubmNpbWJyYQ=="
          target="_blank"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
            alt="Instagram"
          />
        </a>
        <a
          href="https://wa.me/524778900060?text
        "
          target="_blank"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
            alt="WhatsApp"
          />
        </a>
        <a href="https://www.facebook.com" target="_blank">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg"
            alt="Facebook"
          />
        </a>
      </div>
    </footer>

    <script>
      function validatePhoneNumber(input) {
        input.value = input.value.replace(/[^0-9]/g, "");
      }

      document
        .getElementById("myForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Evita el envío normal del formulario

          const formData = new FormData(this);

          // Envía el formulario utilizando fetch
          fetch("https://api.web3forms.com/submit", {
            method: "POST",
            body: formData,
          })
            .then((response) => response.json())
            .then((data) => {
              console.log("Formulario enviado:", data);
              // Redirige después de  segundo
              setTimeout(function () {
                window.location.href = "./video.html";
              }, 1000);
            })
            .catch((error) => {
              console.error("Error al enviar el formulario:", error);
            });
        });
    </script>
  </body>
</html>
